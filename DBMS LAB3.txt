1) Add the required constraints on the created tables

CREATE TABLE SALESMAN 
(
	SALESMAN_ID INT NOT NULL AUTO_INCREMENT,
	SALESMAN_NAME VARCHAR(100) NOT NULL,
	CITY VARCHAR(100) NOT NULL,
	COMMISSION INT NOT NULL,
	PRIMARY KEY (SALESMAN_ID)
);

CREATE TABLE CUSTOMER
(
	CUSTOMER_ID INT NOT NULL AUTO_INCREMENT,
	CUSTOMER_NAME VARCHAR(100) NOT NULL,
	CITY VARCHAR(100) NOT NULL,
	PRIMARY KEY (CUSTOMER_ID)
);

CREATE TABLE ORDERS
(
	ORDER_NO INT NOT NULL,
	SALESMAN_ID INT,
	CUSTOMER_ID INT,
	PURCHASE_AMT REAL,
	ORDER_DATE DATE,
	FOREIGN KEY (SALESMAN_ID) REFERENCES SALESMAN (SALESMAN_ID) ON DELETE CASCADE,
	FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER (CUSTOMER_ID) ON DELETE CASCADE
);

2) Populate the relations with at least 5 tuples each.

INSERT INTO SALESMAN(SALESMAN_NAME,CITY,COMMISSION) VALUES
('AYMAN','DUBAI',15575),
('AKASH','DELHI',13000),
('MANAV','MUMNAI',8500),
('AJAY','TORONTO',12000),
('DAVID','BANGLORE',6000);

INSERT INTO CUSTOMER(CUSTOMER_NAME,CITY) VALUES
('RASHMI','DUBAI'),
('PRIYA','RANCHI'),
('DEEPAK','HYDREBAD'),
('SACHIN','PARIS'),
('KARAN','BANGLORE');

INSERT INTO ORDERS(ORDER_NO,SALESMAN_ID,CUSTOMER_ID,PURCHASE_AMT,ORDER_DATE) VALUES
(1,1,1,2000,'19/08/07'),
(2,2,2,3500,'20/09/10'),
(3,3,3,5000,'18/08/21'),
(4,4,4,2000,'16/09/27'),
(5,5,5,7000,'21/02/10');

3) Select the ID and names of all the customers.

SELECT CUSTOMER_ID,CUSTOMER_NAME FROM CUSTOMER;

4) Select the salesman with the highest commission.

SELECT SALESMAN_NAME,COMMISSION FROM SALESMAN WHERE
COMMISSION = (SELECT MAX(COMMISSION) FROM SALESMAN);

5) List all the orders placed in descending order of their purchase amount.

SELECT ORDER_NO,PURCHASE_AMT FROM ORDERS ORDER BY PURCHASE_AMT DESC;

6) Select customers who have salesmen in their cities.

SELECT CUSTOMER.CUSTOMER_NAME,SALESMAN.SALESMAN_NAME,SALESMAN.CITY FROM SALESMAN
JOIN CUSTOMER
ON SALESMAN.CITY = CUSTOMER.CITY;

7) Delete all orders placed before Jan 2018 

DELETE FROM ORDERS WHERE ORDER_DATE < '18/01/01';
 

ADDITIONAL QUERIES

1) Find the names of salesman who have customers

SELECT SALESMAN_NAME,CUSTOMER_NAME FROM SALESMAN
JOIN ORDERS
ON SALESMAN.SALESMAN_ID = ORDERS.SALESMAN_ID
JOIN CUSTOMER
ON CUSTOMER.CUSTOMER_ID = ORDERS.CUSTOMER_ID;

2) Find the names of all salesmen whose commission is greater than 25%.

SELECT S.SALESMAN_NAME FROM SALESMAN S, ORDERS O 
WHERE S.SALESMAN_ID = O.ORDER_NO AND ((S.COMMISSION / O.PURCHASE_AMT) * 100) > 25;

3) List the names of customers and the order amount placed by them.

SELECT CUSTOMER_NAME,PURCHASE_AMT FROM CUSTOMER
JOIN ORDERS
ON CUSTOMER.CUSTOMER_ID = ORDERS.CUSTOMER_ID;

4) Find the name and ID of all salesmen who have earned commission amount more than 10,000

SELECT SALESMAN_NAME,SALESMAN_ID FROM SALESMAN WHERE COMMISSION > 10000;




	