1) Add the required constraints on the created tables.

CREATE TABLE SAILOR
(
	SID INT NOT NULL,
	SNAME VARCHAR(100),
	RATING INT,
	AGE REAL NOT NULL,
	PRIMARY KEY (SID)
);

CREATE TABLE BOAT
(
	BID INT NOT NULL,
	BNAME VARCHAR(100),
	COLOR VARCHAR(100),
	PRIMARY KEY (BID)
);

CREATE TABLE RESERVES
(
	SID INT,
	BID INT,
	DAY DATE,
	FOREIGN KEY (SID) REFERENCES SAILOR (SID),
	FOREIGN KEY (BID) REFERENCES BOAT (BID)
);

2) Populate the relations with at least 5 tuples each.

INSERT INTO SAILOR(SID,SNAME,RATING,AGE) VALUES
(1,'RAHUL',3,19),
(2,'SHYAM',8,20),
(3,'AJAY',9,21),
(4,'SALMAN',11,22),
(5,'AKSHAY',5,25);

INSERT INTO BOAT(BID,BNAME,COLOR) VALUES
(100,'BOAT1','GREEN'),
(101,'BOAT2','RED'),
(102,'BOAT3','BLUE'),
(103,'BOAT4','YELLOW'),
(104,'BOAT5','RED');

INSERT INTO RESERVES(SID,BID,DAY) VALUES
(1,100,'19/08/21'),
(2,101,'20/09/07'),
(3,102,'18/04/01'),
(4,103,'16/05/05'),
(5,104,'17/12/11');

3) Select names and ages of all sailors. Rename sname as ‘Sailor Name’

SELECT SNAME,AGE FROM SAILOR;

ALTER TABLE SAILOR
RENAME COLUMN SNAME TO SAILOR_NAME;

4) Find all sailors with a rating above 7?

SELECT SNAME,RATING FROM SAILOR WHERE RATING > 7;

5) Find the sid of sailors who have reserved a red boat?

SELECT S.SID,S.SAILOR_NAME FROM SAILOR S,BOAT B,RESERVES R
WHERE S.SID = R.SID AND R.BID = B.BID AND B.COLOR = 'RED';

   			OR (USING JOINS) 

SELECT SAILOR.SID,SAILOR.SAILOR_NAME,BOAT.COLOR FROM SAILOR
JOIN RESERVES
ON SAILOR.SID = RESERVES.SID
JOIN BOAT
ON BOAT.BID = RESERVES.BID
WHERE BOAT.COLOR = 'RED';

6) Find the colors of boats reserved by ‘Shyam’?

SELECT B.COLOR FROM BOAT B,SAILOR S,RESERVES R
WHERE S.SID = R.SID AND B.BID = R.BID AND S.SAILOR_NAME = 'SHYAM';

			OR (USING JOINS)

SELECT BOAT.COLOR,SAILOR.SAILOR_NAME FROM BOAT
JOIN RESERVES
ON RESERVES.BID = BOAT.BID
JOIN SAILOR
ON SAILOR.SID = RESERVES.SID
WHERE SAILOR_NAME = 'SHYAM';

7) Delete all boats which have never been reserved

DELETE FROM BOAT RESERVES WHERE BID NOT IN (SELECT BID FROM RESERVES);


ADDITIONAL QUERIES


1) Find the names of sailors who have reserved boat number 103?

SELECT S.SAILOR_NAME FROM SAILOR S,BOAT B,RESERVES R
WHERE S.SID = R.SID AND R.BID = B.BID AND B.BID = 103;

			OR (USING JOINS)

SELECT SAILOR.SAILOR_NAME,BOAT.BID FROM SAILOR
JOIN RESERVES
ON SAILOR.SID = RESERVES.SID
JOIN BOAT
ON BOAT.BID = RESERVES.BID
WHERE BOAT.BID = 103;

2) Find the names of sailors who have reserved a red boat?

SELECT S.SAILOR_NAME,B.COLOR FROM SAILOR S,BOAT B,RESERVES R
WHERE S.SID = R.SID AND R.BID = B.BID AND B.COLOR = 'RED';

3) Find the ages of sailors whose name begin and end with B and has at least 5 characters?

SELECT AGE,SAILOR_NAME FROM SAILOR
WHERE SAILOR_NAME LIKE 'B%B' AND CHAR_LENGTH(SAILOR_NAME) > 5;

4) Find the name and age of oldest sailor

SELECT SAILOR_NAME,AGE FROM SAILOR 
WHERE AGE = (SELECT MAX(AGE) FROM SAILOR);